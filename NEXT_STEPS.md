# ä¸‹ä¸€æ­¥æ“ä½œæŒ‡å—

## âœ… å·²å®Œæˆ

1. âœ… æ•°æ®åº“è¿ç§»è„šæœ¬å·²æ‰§è¡Œ
2. âœ… qrcodeä¾èµ–å·²å®‰è£…
3. âœ… æ‰€æœ‰åç«¯APIè·¯ç”±å·²åˆ›å»ºå¹¶æ³¨å†Œ
4. âœ… Flutteré¡¹ç›®ç»“æ„å·²åˆ›å»º
5. âœ… æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ä»£ç å·²å®ç°

## ğŸ“‹ å¾…æ‰§è¡Œæ“ä½œ

### 1. é‡å¯åç«¯æœåŠ¡ï¼ˆé‡è¦ï¼‰

```bash
cd backend
bash restart_backend.sh
```

æˆ–è€…æ‰‹åŠ¨é‡å¯ï¼š

```bash
cd backend
source venv/bin/activate
# åœæ­¢æ—§æœåŠ¡
pkill -f "uvicorn app.main:app"
# å¯åŠ¨æ–°æœåŠ¡
bash start_production.sh
```

### 2. éªŒè¯åç«¯API

è®¿é—®APIæ–‡æ¡£æ£€æŸ¥æ–°æ¥å£ï¼š
```
http://localhost:8000/docs
```

åº”è¯¥èƒ½çœ‹åˆ°ä»¥ä¸‹æ–°æ¥å£ï¼š
- `/api/auth/*` - è®¤è¯ç›¸å…³
- `/api/qrcode/*` - äºŒç»´ç ç›¸å…³
- `/api/health-report/*` - å¥åº·ç®€æŠ¥ç›¸å…³
- `/api/voice/*` - è¯­éŸ³æé†’ç›¸å…³
- `/api/call/*` - å‘¼å«ç›¸å…³
- `/api/alerts/family/*` - å®¶å±ç«¯å‘Šè­¦ç›¸å…³

### 3. åˆå§‹åŒ–Flutteré¡¹ç›®

```bash
cd mobile_app
flutter pub get
```

### 4. é…ç½®Flutteråº”ç”¨

ç¼–è¾‘ `mobile_app/lib/core/config/app_config.dart`ï¼š

```dart
static const String baseUrl = 'http://localhost:8000';  // æœ¬åœ°å¼€å‘
// æˆ–
static const String baseUrl = 'http://your-server-ip:8000';  // æœåŠ¡å™¨éƒ¨ç½²
```

### 5. åˆ›å»ºæµ‹è¯•ç”¨æˆ·ï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœéœ€è¦æµ‹è¯•ç—…æ‚£ç«¯ï¼Œéœ€è¦åœ¨æ•°æ®åº“ä¸­åˆ›å»ºpatientç”¨æˆ·ï¼š

```sql
-- åˆ›å»ºç—…æ‚£ç”¨æˆ·ï¼ˆå…³è”åˆ°ç°æœ‰æ‚£è€…ï¼‰
UPDATE users SET patient_id = 'patient_id_here' WHERE user_id = 'user_id_here';
```

### 6. è¿è¡ŒFlutteråº”ç”¨

```bash
cd mobile_app
flutter run
```

## ğŸ§ª æµ‹è¯•æµç¨‹

### æµ‹è¯•ç—…æ‚£ç«¯

1. ä½¿ç”¨patientç”¨æˆ·ç™»å½•
2. æŸ¥çœ‹ç”Ÿæˆçš„äºŒç»´ç 
3. ç­‰å¾…WebSocketè¿æ¥
4. è§¦å‘ç‚¹æ»´å‘Šè­¦ï¼ŒéªŒè¯è¯­éŸ³æé†’

### æµ‹è¯•å®¶å±ç«¯

1. ä½¿ç”¨family001/family123ç™»å½•
2. æ‰«æç—…æ‚£ç«¯ç”Ÿæˆçš„äºŒç»´ç 
3. æŸ¥çœ‹å¥åº·ç®€æŠ¥ï¼ˆDemoæ•°æ®ï¼‰
4. æŸ¥çœ‹æ´»åŠ¨è®°å½•å›¾è¡¨
5. æŸ¥çœ‹æƒ…ç»ªç›‘æµ‹
6. æŸ¥çœ‹å‘Šè­¦åˆ—è¡¨å¹¶ç¡®è®¤
7. æµ‹è¯•ä¸€é”®å‘¼å«åŠŸèƒ½

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“è¿ç§»**: å·²æ‰§è¡Œï¼Œæ— éœ€é‡å¤æ‰§è¡Œ
2. **ä¾èµ–å®‰è£…**: qrcodeå·²å®‰è£…ï¼ŒFlutterä¾èµ–éœ€è¦è¿è¡Œ`flutter pub get`
3. **APIåœ°å€**: ç¡®ä¿Flutteråº”ç”¨ä¸­çš„APIåœ°å€ä¸åç«¯æœåŠ¡åœ°å€ä¸€è‡´
4. **WebSocket**: ç¡®ä¿WebSocketåœ°å€é…ç½®æ­£ç¡®ï¼ˆws://æˆ–wss://ï¼‰
5. **æƒé™**: Flutteråº”ç”¨éœ€è¦ç›¸æœºæƒé™ï¼ˆäºŒç»´ç æ‰«æï¼‰å’Œéº¦å…‹é£æƒé™ï¼ˆè¯­éŸ³æé†’ï¼‰

## ğŸ› æ•…éšœæ’æŸ¥

### åç«¯APIæ— æ³•è®¿é—®

1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œï¼š`ps aux | grep uvicorn`
2. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š`lsof -i :8000`
3. æŸ¥çœ‹åç«¯æ—¥å¿—ï¼š`tail -f backend/logs/app-*.log`

### Flutterä¾èµ–å®‰è£…å¤±è´¥

1. æ£€æŸ¥Flutterç‰ˆæœ¬ï¼š`flutter --version`
2. æ¸…ç†ç¼“å­˜ï¼š`flutter clean`
3. é‡æ–°è·å–ä¾èµ–ï¼š`flutter pub get`

### WebSocketè¿æ¥å¤±è´¥

1. æ£€æŸ¥WebSocketåœ°å€é…ç½®
2. æ£€æŸ¥åç«¯WebSocketæœåŠ¡æ˜¯å¦æ­£å¸¸
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æˆ–Flutteræ—¥å¿—

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å®æ–½æ€»ç»“](./IMPLEMENTATION_SUMMARY.md)
- [Flutter README](./mobile_app/README.md)
- [å¿«é€Ÿå¯åŠ¨æŒ‡å—](./mobile_app/QUICK_START.md)

